---
title: "GOSRM_code"
author: "Amber Gillenwaters"
date: "April 17, 2018"
output: 
html_document:
 self_contained: no
---

The formula for $\omega_G^2$ is: $$\frac{SS_{modelA} - (df_{modelA} \times MS_{subjectA})} 
{SS_{total} + SS_{modelB} + J_B \times MS_{subjectA}}$$

Note: A is the target IV to calculate generalized omega squared on. B is the other IV. J is the number of levels for IV B. 

The code to use MOTE in R is: 
 

 
<h2>Generalized Omega Squared for Multi-Way and Mixed ANOVA from F</h2>  <h3>Description</h3>  <p>This function displays generalized omega squared from ANOVA analyses and its non-central confidence interval based on the F distribution. This formula is appropriate for multi-way repeated measures designs and mix level designs. </p>   <h3>Usage</h3>  <pre> omega.gen.SS.rm(dfm, dfe, ssm, ssm2, sst, mss, j, Fvalue, a = 0.05) </pre>   <h3>Arguments</h3>  <table summary="R argblock"> <tr valign="top"><td><code>dfm</code></td> <td> <p>degrees of freedom for the model/IV/between</p> </td></tr> <tr valign="top"><td><code>dfe</code></td> <td> <p>degrees of freedom for the error/residual/within</p> </td></tr> <tr valign="top"><td><code>ssm</code></td> <td> <p>sum of squares for the MAIN model/IV/between</p> </td></tr> <tr valign="top"><td><code>ssm2</code></td> <td> <p>sum of squares for the OTHER model/IV/between</p> </td></tr> <tr valign="top"><td><code>sst</code></td> <td> <p>sum of squares total across the whole ANOVA</p> </td></tr> <tr valign="top"><td><code>mss</code></td> <td> <p>mean square for the subject variance</p> </td></tr> <tr valign="top"><td><code>j</code></td> <td> <p>number of levels in the OTHER IV</p> </td></tr> <tr valign="top"><td><code>Fvalue</code></td> <td> <p>F statistic from the output for your IV</p> </td></tr> <tr valign="top"><td><code>a</code></td> <td> <p>significance level</p> </td></tr> </table>   <h3>Details</h3>  <p>Omega squared is calculated by subtracting the product of the degrees of freedom of the model and the mean square of the subject variance from the sum of squares for the model. </p> <p>This is divided by the value obtained after combining the sum of squares total, sum of squares for the other independent variable, and the mean square of the subject variance multiplied by the number of levels in the other model/IV/between. </p> <p>generalized omega^2 = (ssm - (dfm * mss)) / (sst + ssm2 + j*mss) </p> <p><a href="https://www.aggieerin.com/shiny-server/tests/gosrmss.html">Learn more on our example page.</a> </p>   <h3>Value</h3>  <p>Provides omega squared with associated confidence intervals and relevant statistics. </p> <table summary="R valueblock"> <tr valign="top"><td><code>omega</code></td> <td> <p>omega squared</p> </td></tr> <tr valign="top"><td><code>omegalow</code></td> <td> <p>lower level confidence interval of omega</p> </td></tr> <tr valign="top"><td><code>omegahigh</code></td> <td> <p>upper level confidence interval of omega</p> </td></tr> <tr valign="top"><td><code>dfm</code></td> <td> <p>degrees of freedom for the model/IV/between</p> </td></tr> <tr valign="top"><td><code>dfe</code></td> <td> <p>degrees of freedom for the error/resisual/within</p> </td></tr> <tr valign="top"><td><code>F</code></td> <td> <p>F-statistic</p> </td></tr> <tr valign="top"><td><code>p</code></td> <td> <p>p-value</p> </td></tr> <tr valign="top"><td><code>estimate</code></td> <td> <p>the omega squared statistic and confidence interval in APA style for markdown printing</p> </td></tr> <tr valign="top"><td><code>statistic</code></td> <td> <p>the F-statistic in APA style for markdown printing</p> </td></tr> </table>   <h3>Examples</h3>  <pre>  #The following example is derived from the "mix2_data" dataset, included #in the MOTE library.  #Given previous research, we know that backward strength in free #association tends to increase the ratings participants give when #you ask them how many people out of 100 would say a word in #response to a target word (like Family Feud). This result is #tied to peopleâ€™s overestimation of how well they think they know #something, which is bad for studying. So, we gave people instructions #on how to ignore the BSG.  Did it help? Is there an interaction #between BSG and instructions given?  library(ez) mix2_data$partno = 1:nrow(mix2_data)  library(reshape) long_mix = melt(mix2_data, id = c("partno", "group"))  anova_model = ezANOVA(data = long_mix,                       dv = value,                       wid = partno,                       between = group,                       within = variable,                       detailed = TRUE,                       type = 3)  #You would calculate one partial GOS value for each F-statistic. #Here's an example for the main effect 1 with typing in numbers.  omega.gen.SS.rm(dfm = 1, dfe = 156,                  ssm = 6842.46829,                  ssm2 = 14336.07886,                  sst = sum(c(30936.498, 6842.46829,                  14336.07886, 8657.094, 71.07608)),                  mss = 30936.498 / 156,                  j = 2, Fvalue = 34.503746, a = .05)  #Here's an example for the main effect 1 with code.  omega.gen.SS.rm(dfm = anova_model$ANOVA$DFn[2],                  dfe = anova_model$ANOVA$DFd[2],                  ssm = anova_model$ANOVA$SSn[2],                  ssm2 = anova_model$ANOVA$SSn[3],                  sst = sum(c(anova_model$ANOVA$SSn[-1], anova_model$ANOVA$SSd[c(1,3)])),                  mss = anova_model$ANOVA$SSd[1]/anova_model$ANOVA$DFd[1],                  j = anova_model$ANOVA$DFn[3]+1,                  Fvalue = anova_model$ANOVA$F[2], a = .05) </pre>   </body></html> 
